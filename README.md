# Social Media API

FastAPI –¥–æ–¥–∞—Ç–æ–∫ –∑ MVC –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é –¥–ª—è —Å–æ—Ü—ñ–∞–ª—å–Ω–æ—ó –º–µ—Ä–µ–∂—ñ –∑ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é, –∫–µ—à—É–≤–∞–Ω–Ω—è–º —Ç–∞ –ø–æ–≤–Ω–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é –¥–∞–Ω–∏—Ö.

**üéØ Modern Python project with Poetry dependency management and clean MVC architecture!**

## üì© Submission Information

**Task Requirements:** ‚úÖ All requirements fully implemented

- **MVC Architecture** with 3 layers (Controllers, Services, Models)
- **5 API Endpoints** (Signup, Login, AddPost, GetPosts, DeletePost)
- **JWT Authentication** with dependency injection
- **1MB Payload Validation** with Pydantic
- **5-minute Caching** with TTL cache
- **MySQL/SQLite** database with SQLAlchemy ORM
- **Complete Documentation** for every function

**Submission:** `lucidtasksubmission@gmail.com`
**Time Requirement:** ‚úÖ Completed within 2 hours
**Repository:** Public GitHub repository ready

## üöÄ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **MVC –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**: –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ 3 —Ä—ñ–≤–Ω—ñ (Controllers, Services, Models)
- **JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è**: –ë–µ–∑–ø–µ—á–Ω–∞ —Ç–æ–∫–µ–Ω-–±–∞–∑–æ–≤–∞–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è Payload**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–º—ñ—Ä—É –¥–æ 1MB
- **–ö–µ—à—É–≤–∞–Ω–Ω—è**: TTL –∫–µ—à –Ω–∞ 5 —Ö–≤–∏–ª–∏–Ω –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
- **Dependency Injection**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ DI
- **–ü–æ–≤–Ω–∞ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: Swagger UI —Ç–∞ ReDoc
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¢–∏–ø—ñ–≤**: Pydantic —Å—Ö–µ–º–∏ –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
- **Poetry**: –°—É—á–∞—Å–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏ —Ç–∞ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–º–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞–º–∏

## üìã –í–∏–º–æ–≥–∏

- Python 3.8+
- Poetry 1.2+
- MySQL 5.7+ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è SQLite)

## üõ† –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ß–µ—Ä–µ–∑ Poetry (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**

```bash
git clone https://github.com/your-username/social-media-api.git
cd social-media-api
```

2. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Poetry**

```bash
curl -sSL https://install.python-poetry.org | python3 -
# –∞–±–æ —á–µ—Ä–µ–∑ pip
pip install poetry
```

3. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**

```bash
poetry install
```

### –ß–µ—Ä–µ–∑ pip (legacy)

```bash
pip install -r requirements.txt
```

3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**

- –°—Ç–≤–æ—Ä—ñ—Ç—å MySQL –±–∞–∑—É –¥–∞–Ω–∏—Ö `fastapi_app`
- –û–Ω–æ–≤—ñ—Ç—å `DATABASE_URL` –≤ `.env` —Ñ–∞–π–ª—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –≤–∞—à–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

4. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞**

```bash
# .env —Ñ–∞–π–ª (–≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π)
DATABASE_URL=mysql+pymysql://root:password@localhost:3306/fastapi_app
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ß–µ—Ä–µ–∑ Poetry (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

```bash
# –†–æ–∑—Ä–æ–±–∫–∞ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
poetry run uvicorn main:app --host 0.0.0.0 --port 8000 --reload

# –ü—Ä–æ–¥–∞–∫—à–µ–Ω
poetry run uvicorn main:app --host 0.0.0.0 --port 8000

# –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫
poetry run python main.py
```

### –ß–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π Python

```bash
python main.py
```

–ê–±–æ —á–µ—Ä–µ–∑ uvicorn:

```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–µ –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://localhost:8000

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## üîó –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

#### 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

```http
POST /auth/signup
Content-Type: application/json

{
    "email": "user@example.com",
    "password": "MySecurePassword123"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**

```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "token_type": "bearer"
}
```

#### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

```http
POST /auth/login
Content-Type: application/json

{
    "email": "user@example.com",
    "password": "MySecurePassword123"
}
```

### –ü–æ—Å—Ç–∏

#### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—É

```http
POST /posts/
Authorization: Bearer <jwt-token>
Content-Type: application/json

{
    "text": "–¶–µ –º—ñ–π –Ω–æ–≤–∏–π –ø–æ—Å—Ç!"
}
```

#### 4. –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ—Å—Ç—ñ–≤

```http
GET /posts/
Authorization: Bearer <jwt-token>
```

#### 5. –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ—Å—Ç—É

```http
DELETE /posts/{post_id}
Authorization: Bearer <jwt-token>
```

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ MVC

### Models (models/)

- `user.py` - SQLAlchemy –º–æ–¥–µ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `post.py` - SQLAlchemy –º–æ–¥–µ–ª—å –ø–æ—Å—Ç—É

### Views/Controllers (controllers/)

- `auth_controller.py` - –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- `post_controller.py` - –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è –ø–æ—Å—Ç—ñ–≤

### Services (services/)

- `user_service.py` - –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `post_service.py` - –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –ø–æ—Å—Ç—ñ–≤

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

#### Schemas (schemas/)

- `user.py` - Pydantic —Å—Ö–µ–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `post.py` - Pydantic —Å—Ö–µ–º–∏ –ø–æ—Å—Ç—É

#### Utils (utils/)

- `auth.py` - JWT —Ç–∞ —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- `dependencies.py` - Dependency injection
- `cache.py` - –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è

#### Database (database/)

- `config.py` - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è SQLAlchemy

## üîí –ë–µ–∑–ø–µ–∫–∞

- **–•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤**: bcrypt
- **JWT —Ç–æ–∫–µ–Ω–∏**: HS256 –∞–ª–≥–æ—Ä–∏—Ç–º
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–∞—Ä–æ–ª—ñ–≤**: –ú—ñ–Ω—ñ–º—É–º 8 —Å–∏–º–≤–æ–ª—ñ–≤, –ª—ñ—Ç–µ—Ä–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∏
- **CORS**: –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏

## üìä –ö–µ—à—É–≤–∞–Ω–Ω—è

- **TTL**: 5 —Ö–≤–∏–ª–∏–Ω (300 —Å–µ–∫—É–Ω–¥)
- **–ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å—ñ–≤**: 1000
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è**: –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/–≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –ø–æ—Å—Ç—ñ–≤

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ß–µ—Ä–µ–∑ Poetry
poetry run python test_api.py

# –ß–µ—Ä–µ–∑ Python
python test_api.py
```

### –†—É—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è**:

```bash
curl -X POST "http://localhost:8000/auth/signup" \
     -H "Content-Type: application/json" \
     -d '{"email": "test@example.com", "password": "Password123"}'
```

2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç—É**:

```bash
curl -X POST "http://localhost:8000/posts/" \
     -H "Authorization: Bearer <your-token>" \
     -H "Content-Type: application/json" \
     -d '{"text": "–ú—ñ–π –ø–µ—Ä—à–∏–π –ø–æ—Å—Ç!"}'
```

3. **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤**:

```bash
curl -X GET "http://localhost:8000/posts/" \
     -H "Authorization: Bearer <your-token>"
```

## üìà –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### Health Check

```http
GET /health
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å—Ç—ñ–≤

```http
GET /posts/stats
Authorization: Bearer <jwt-token>
```

## üö® –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

API –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω—ñ –ø–æ–º–∏–ª–∫–∏:

- **400**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –¥–∞–Ω—ñ
- **401**: –ù–µ–¥—ñ–π—Å–Ω–∏–π —Ç–æ–∫–µ–Ω
- **404**: –†–µ—Å—É—Ä—Å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
- **422**: –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- **500**: –ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üìù –í–∞–ª—ñ–¥–∞—Ü—ñ—è

### –ü–∞—Ä–æ–ª—å

- –ú—ñ–Ω—ñ–º—É–º 8 —Å–∏–º–≤–æ–ª—ñ–≤
- –ü—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–∞ –ª—ñ—Ç–µ—Ä–∞
- –ü—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞
- –ü—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–∞ –≤–µ–ª–∏–∫–∞ –ª—ñ—Ç–µ—Ä–∞

### –ü–æ—Å—Ç

- –ú—ñ–Ω—ñ–º—É–º 1 —Å–∏–º–≤–æ–ª
- –ú–∞–∫—Å–∏–º—É–º 1MB

## üîß –ö–æ–º–∞–Ω–¥–∏ Poetry

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
poetry install

# –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
poetry add package-name

# –î–æ–¥–∞–≤–∞–Ω–Ω—è dev –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
poetry add --group dev package-name

# –ó–∞–ø—É—Å–∫ —É –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ
poetry run python script.py

# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
poetry shell

# –ü–æ–∫–∞–∑–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
poetry show

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
poetry update

# –ï–∫—Å–ø–æ—Ä—Ç —É requirements.txt
poetry export -f requirements.txt --output requirements.txt

# –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –ø–∞–∫–µ—Ç—É
poetry publish --build
```

## üéØ –ö–æ—Ä–∏—Å–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏

```bash
# –†–æ–∑—Ä–æ–±–∫–∞
poetry run uvicorn main:app --reload     # –ó–∞–ø—É—Å–∫ –∑ auto-reload
poetry run python main.py               # –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫
poetry run python test_api.py           # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

# –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É (–ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è dev –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π)
poetry run black .                      # –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è Python –∫–æ–¥—É
poetry run isort .                      # –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —ñ–º–ø–æ—Ä—Ç—ñ–≤
poetry run flake8 .                     # Linting
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∏—Ä–æ–±–Ω–∏—á–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

1. –ó–º—ñ–Ω—ñ—Ç—å `JWT_SECRET_KEY` –Ω–∞ –±–µ–∑–ø–µ—á–Ω–∏–π –∫–ª—é—á
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π `DATABASE_URL`
3. –û–±–º–µ–∂—Ç–µ CORS origins
4. –£–≤—ñ–º–∫–Ω—ñ—Ç—å HTTPS
5. –î–æ–¥–∞–π—Ç–µ rate limiting

## ü§ù –í–Ω–µ—Å–æ–∫

1. Fork –ø—Ä–æ—î–∫—Ç
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∑–º—ñ–Ω–∏ (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–∏–≤. [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—å: lucidtasksubmission@gmail.com
